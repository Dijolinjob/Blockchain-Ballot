{"ast":null,"code":"var _jsxFileName = \"D:\\\\Blockchain Ballot\\\\frontend\\\\src\\\\pages\\\\LandingPage\\\\LandinPage.js\",\n    _s = $RefreshSig$();\n\n/**\r\n * @prettier\r\n */\nimport { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useNavigate } from 'react-router';\nimport AuthContext from '../../store/auth-context';\nimport Loading from '../../components/Loading';\nimport { useEndElection } from '../../components/hooks/end-election';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst LandingPage = () => {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const {\n    user,\n    notify,\n    election\n  } = useContext(AuthContext); // useEffect(() => {\n  //    if (!user) {\n  //       notify(\"Please login first\", \"error\");\n  //       //navigate('/login');\n  //    }\n  // }, [user]);\n  //use effect to remove bug where user rejects second transaction while ending election\n\n  useEndElection('', setLoading);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col justify-center items-center my-auto mx-5 h-screen  \",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"pb-4 text-center text-3xl font-extrabold text-gray-900\",\n        children: \"Online Voting System\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex filter flex-col lg:flex-row rounded-lg py-4 `,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-auto mx-auto items-center justify-center pl-2\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"mt-3  max-w-lg lg:h-48 lg:w-48 md:h-56 md:w-56 w-32 h-32 rounded-md object-cover\",\n            src: `https://images.unsplash.com/photo-1494172961521-33799ddd43a5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1771&q=80`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"py-4 px-8 flex flex-col my-auto md:max-w-l lg:max-w-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-700 mb-4 text-sm\",\n            children: \"Welecome to Online Voting System, a secured voting system built using polygon blockchain. Your vote will be confidential and will not be revealed to anyone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 19\n          }, this), !loading && !user && /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"group relative w-2/5 lg:mx-0 md:mx-auto mx-auto flex justify-center py-2 px-3 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-500 hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-400\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 22\n          }, this), !loading && user && user.electionOngoing && /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/election\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"group relative w-2/5 lg:mx-0 md:mx-auto mx-auto flex justify-center py-2 px-3 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-500 hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-400\",\n              children: \"Vote now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 22\n          }, this), !loading && user && user.role === 'user' && !user.electionOngoing && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center font-semibold\",\n            children: \"No election ongoing\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 22\n          }, this), !loading && user && user.role === 'admin' && !user.electionOngoing && election === '0x0000000000000000000000000000000000000000' && /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/addElection\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"group relative w-2/5 lg:mx-0 md:mx-auto mx-auto flex justify-center py-2 px-3 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-500 hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-400\",\n              children: \"Start Election\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), !loading && user && user.role === 'admin' && !user.electionOngoing && election !== '0x0000000000000000000000000000000000000000' && /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/election\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"group relative w-2/5 lg:mx-0 md:mx-auto mx-auto flex justify-center py-2 px-3 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-500 hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-400\",\n              children: \"Go to Election\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 text-md text-gray-900\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center font-bold\",\n          children: \"User Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-4\",\n          children: [\"Name : \", user.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Address : \", user.eAddress]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 10\n    }, this), loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true);\n};\n\n_s(LandingPage, \"INmP46qxDP+n/l25roDom/iE0Oo=\", false, function () {\n  return [useEndElection];\n});\n\n_c = LandingPage;\nexport default LandingPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LandingPage\");","map":{"version":3,"sources":["D:/Blockchain Ballot/frontend/src/pages/LandingPage/LandinPage.js"],"names":["useContext","useEffect","useState","Link","useNavigate","AuthContext","Loading","useEndElection","LandingPage","loading","setLoading","user","notify","election","electionOngoing","role","name","eAddress"],"mappings":"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","sourcesContent":["/**\r\n * @prettier\r\n */\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router';\r\nimport AuthContext from '../../store/auth-context';\r\nimport Loading from '../../components/Loading';\r\nimport { useEndElection } from '../../components/hooks/end-election';\r\n\r\nconst LandingPage = () => {\r\n   const [loading, setLoading] = useState(false);\r\n   const { user, notify, election } = useContext(AuthContext);\r\n   // useEffect(() => {\r\n   //    if (!user) {\r\n   //       notify(\"Please login first\", \"error\");\r\n   //       //navigate('/login');\r\n   //    }\r\n   // }, [user]);\r\n\r\n   //use effect to remove bug where user rejects second transaction while ending election\r\n   useEndElection('', setLoading);\r\n\r\n   return (\r\n      <>\r\n         <div className='flex flex-col justify-center items-center my-auto mx-5 h-screen  '>\r\n            <h2 className='pb-4 text-center text-3xl font-extrabold text-gray-900'>\r\n               Online Voting System\r\n            </h2>\r\n            <div className={`flex filter flex-col lg:flex-row rounded-lg py-4 `}>\r\n               <div className='my-auto mx-auto items-center justify-center pl-2'>\r\n                  <img\r\n                     className='mt-3  max-w-lg lg:h-48 lg:w-48 md:h-56 md:w-56 w-32 h-32 rounded-md object-cover'\r\n                     src={`https://images.unsplash.com/photo-1494172961521-33799ddd43a5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1771&q=80`}\r\n                  />\r\n               </div>\r\n\r\n               <div className='py-4 px-8 flex flex-col my-auto md:max-w-l lg:max-w-md'>\r\n                  <p className='text-gray-700 mb-4 text-sm'>\r\n                     Welecome to Online Voting System, a secured voting system built using polygon\r\n                     blockchain. Your vote will be confidential and will not be revealed to anyone\r\n                  </p>\r\n                  {/* No user */}\r\n                  {!loading && !user && (\r\n                     <Link to='/login'>\r\n                        <button className='group relative w-2/5 lg:mx-0 md:mx-auto mx-auto flex justify-center py-2 px-3 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-500 hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-400'>\r\n                           Login\r\n                        </button>\r\n                     </Link>\r\n                  )}\r\n\r\n                  {/*User and election ongoing */}\r\n                  {!loading && user && user.electionOngoing && (\r\n                     <Link to='/election'>\r\n                        <button className='group relative w-2/5 lg:mx-0 md:mx-auto mx-auto flex justify-center py-2 px-3 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-500 hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-400'>\r\n                           Vote now\r\n                        </button>\r\n                     </Link>\r\n                  )}\r\n\r\n                  {/* User role and no election ongoing */}\r\n                  {!loading && user && user.role === 'user' && !user.electionOngoing && (\r\n                     <p className='text-center font-semibold'>No election ongoing</p>\r\n                  )}\r\n\r\n                  {/* Admin role and no election ongoing */}\r\n                  {!loading &&\r\n                     user &&\r\n                     user.role === 'admin' &&\r\n                     !user.electionOngoing &&\r\n                     election === '0x0000000000000000000000000000000000000000' && (\r\n                        <Link to='/addElection'>\r\n                           <button className='group relative w-2/5 lg:mx-0 md:mx-auto mx-auto flex justify-center py-2 px-3 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-500 hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-400'>\r\n                              Start Election\r\n                           </button>\r\n                        </Link>\r\n                     )}\r\n\r\n                  {/*Admin role and added an election but did not start it*/}\r\n                  {!loading &&\r\n                     user &&\r\n                     user.role === 'admin' &&\r\n                     !user.electionOngoing &&\r\n                     election !== '0x0000000000000000000000000000000000000000' && (\r\n                        <Link to='/election'>\r\n                           <button className='group relative w-2/5 lg:mx-0 md:mx-auto mx-auto flex justify-center py-2 px-3 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-500 hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-400'>\r\n                              Go to Election\r\n                           </button>\r\n                        </Link>\r\n                     )}\r\n               </div>\r\n            </div>\r\n            {user && (\r\n               <div className='mt-4 text-md text-gray-900'>\r\n                  <p className='text-center font-bold'>User Details</p>\r\n                  <p className='mb-4'>Name : {user.name}</p>\r\n                  <p>Address : {user.eAddress}</p>\r\n               </div>\r\n            )}\r\n         </div>\r\n\r\n         {loading && <Loading />}\r\n      </>\r\n   );\r\n};\r\n\r\nexport default LandingPage;\r\n"]},"metadata":{},"sourceType":"module"}